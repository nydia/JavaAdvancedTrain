<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nydia.mybatis.mapper.UserMapper">


  <select id="selectById" parameterType="java.lang.Integer" resultType="com.nydia.mybatis.entity.User">
    select username,password
    from tbl_user
    where id = #{id,jdbcType=INTEGER}
  </select>

  <!-- 使用自增主键 -->
  <insert id="insert" useGeneratedKeys="true" keyProperty="id" keyColumn="id" parameterType="com.nydia.mybatis.entity.User">
    insert into tbl_user(username,password) values (#{username},#{password})
  </insert>

  <insert id="insert2" parameterType="com.nydia.mybatis.entity.User">
    <selectKey order="AFTER" keyProperty="id" resultType="INTEGER">
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into tbl_user(id,username,password) values (#{id}, #{username},#{password})
  </insert>

</mapper>